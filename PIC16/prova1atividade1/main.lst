CCS PCM C Compiler, Version 4.104, 5967               28-set-23 10:41

               Filename: C:\Users\mateu\Desktop\2023-2\Microcontroladores\PCW\prova1atividade1\main.lst

               ROM used: 862 words (11%)
                         Largest free fragment is 2048
               RAM used: 10 (3%) at main() level
                         30 (8%) worst case
               Stack:    2 locations

*
0000:  MOVLW  02
0001:  MOVWF  0A
0002:  GOTO   2B8
0003:  NOP
.................... #include <16F877A.h> 
.................... //////// Standard Header file for the PIC16F877A device //////////////// 
.................... #device PIC16F877A 
.................... #list 
....................  
.................... #device adc=8 
....................  
.................... #FUSES NOWDT                    //No Watch Dog Timer 
.................... #FUSES HS                       //High speed Osc (> 4mhz for PCM/PCH) (>10mhz for PCD) 
.................... #FUSES NOPUT                    //No Power Up Timer 
.................... #FUSES NOPROTECT                //Code not protected from reading 
.................... #FUSES NODEBUG                  //No Debug mode for ICD 
.................... #FUSES NOBROWNOUT               //No brownout reset 
.................... #FUSES NOLVP                    //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O 
.................... #FUSES NOCPD                    //No EE protection 
.................... #FUSES NOWRT                    //Program memory not write protected 
.................... #FUSES RESERVED                 //Used to set the reserved FUSE bits 
....................  
.................... #use delay(clock=20000000) 
*
01FE:  MOVLW  27
01FF:  MOVWF  04
0200:  BCF    03.7
0201:  MOVF   00,W
0202:  BTFSC  03.2
0203:  GOTO   211
0204:  MOVLW  06
0205:  MOVWF  78
0206:  CLRF   77
0207:  DECFSZ 77,F
0208:  GOTO   207
0209:  DECFSZ 78,F
020A:  GOTO   206
020B:  MOVLW  7B
020C:  MOVWF  77
020D:  DECFSZ 77,F
020E:  GOTO   20D
020F:  DECFSZ 00,F
0210:  GOTO   204
0211:  RETURN
....................  
....................  
....................  
.................... void setPosi(int8 x, int8 delay){ 
....................    switch (x){ 
0212:  MOVF   25,W
0213:  XORLW  01
0214:  BTFSC  03.2
0215:  GOTO   22C
0216:  XORLW  03
0217:  BTFSC  03.2
0218:  GOTO   23D
0219:  XORLW  01
021A:  BTFSC  03.2
021B:  GOTO   24E
021C:  XORLW  07
021D:  BTFSC  03.2
021E:  GOTO   25F
021F:  XORLW  01
0220:  BTFSC  03.2
0221:  GOTO   270
0222:  XORLW  03
0223:  BTFSC  03.2
0224:  GOTO   281
0225:  XORLW  01
0226:  BTFSC  03.2
0227:  GOTO   292
0228:  XORLW  0F
0229:  BTFSC  03.2
022A:  GOTO   2A3
022B:  GOTO   2B4
....................       case 1: 
....................          output_d(0b00000001); 
022C:  BSF    03.5
022D:  CLRF   08
022E:  MOVLW  01
022F:  BCF    03.5
0230:  MOVWF  08
....................          output_high(PIN_A5); 
0231:  BSF    03.5
0232:  BCF    05.5
0233:  BCF    03.5
0234:  BSF    05.5
....................          delay_ms(delay); 
0235:  MOVF   26,W
0236:  MOVWF  27
0237:  CALL   1FE
....................          output_low(PIN_A5); 
0238:  BSF    03.5
0239:  BCF    05.5
023A:  BCF    03.5
023B:  BCF    05.5
....................       break; 
023C:  GOTO   2B5
....................       case 2: 
....................          output_d(0b00000010); 
023D:  BSF    03.5
023E:  CLRF   08
023F:  MOVLW  02
0240:  BCF    03.5
0241:  MOVWF  08
....................          output_high(PIN_A5); 
0242:  BSF    03.5
0243:  BCF    05.5
0244:  BCF    03.5
0245:  BSF    05.5
....................          delay_ms(delay); 
0246:  MOVF   26,W
0247:  MOVWF  27
0248:  CALL   1FE
....................          output_low(PIN_A5); 
0249:  BSF    03.5
024A:  BCF    05.5
024B:  BCF    03.5
024C:  BCF    05.5
....................       break; 
024D:  GOTO   2B5
....................       case 3: 
....................          output_d(0b00000100); 
024E:  BSF    03.5
024F:  CLRF   08
0250:  MOVLW  04
0251:  BCF    03.5
0252:  MOVWF  08
....................          output_high(PIN_A5); 
0253:  BSF    03.5
0254:  BCF    05.5
0255:  BCF    03.5
0256:  BSF    05.5
....................          delay_ms(delay); 
0257:  MOVF   26,W
0258:  MOVWF  27
0259:  CALL   1FE
....................          output_low(PIN_A5); 
025A:  BSF    03.5
025B:  BCF    05.5
025C:  BCF    03.5
025D:  BCF    05.5
....................       break; 
025E:  GOTO   2B5
....................       case 4: 
....................          output_d(0b00001000); 
025F:  BSF    03.5
0260:  CLRF   08
0261:  MOVLW  08
0262:  BCF    03.5
0263:  MOVWF  08
....................          output_high(PIN_A5); 
0264:  BSF    03.5
0265:  BCF    05.5
0266:  BCF    03.5
0267:  BSF    05.5
....................          delay_ms(delay); 
0268:  MOVF   26,W
0269:  MOVWF  27
026A:  CALL   1FE
....................          output_low(PIN_A5); 
026B:  BSF    03.5
026C:  BCF    05.5
026D:  BCF    03.5
026E:  BCF    05.5
....................       break; 
026F:  GOTO   2B5
....................       case 5: 
....................          output_d(0b00001000); 
0270:  BSF    03.5
0271:  CLRF   08
0272:  MOVLW  08
0273:  BCF    03.5
0274:  MOVWF  08
....................          output_high(PIN_A4); 
0275:  BSF    03.5
0276:  BCF    05.4
0277:  BCF    03.5
0278:  BSF    05.4
....................          delay_ms(delay); 
0279:  MOVF   26,W
027A:  MOVWF  27
027B:  CALL   1FE
....................          output_low(PIN_A4); 
027C:  BSF    03.5
027D:  BCF    05.4
027E:  BCF    03.5
027F:  BCF    05.4
....................       break; 
0280:  GOTO   2B5
....................       case 6: 
....................          output_d(0b00010000); 
0281:  BSF    03.5
0282:  CLRF   08
0283:  MOVLW  10
0284:  BCF    03.5
0285:  MOVWF  08
....................          output_high(PIN_A4); 
0286:  BSF    03.5
0287:  BCF    05.4
0288:  BCF    03.5
0289:  BSF    05.4
....................          delay_ms(delay); 
028A:  MOVF   26,W
028B:  MOVWF  27
028C:  CALL   1FE
....................          output_low(PIN_A4); 
028D:  BSF    03.5
028E:  BCF    05.4
028F:  BCF    03.5
0290:  BCF    05.4
....................       break; 
0291:  GOTO   2B5
....................       case 7: 
....................          output_d(0b00100000); 
0292:  BSF    03.5
0293:  CLRF   08
0294:  MOVLW  20
0295:  BCF    03.5
0296:  MOVWF  08
....................          output_high(PIN_A4); 
0297:  BSF    03.5
0298:  BCF    05.4
0299:  BCF    03.5
029A:  BSF    05.4
....................          delay_ms(delay); 
029B:  MOVF   26,W
029C:  MOVWF  27
029D:  CALL   1FE
....................          output_low(PIN_A4); 
029E:  BSF    03.5
029F:  BCF    05.4
02A0:  BCF    03.5
02A1:  BCF    05.4
....................       break; 
02A2:  GOTO   2B5
....................       case 8: 
....................          output_d(0b00000001); 
02A3:  BSF    03.5
02A4:  CLRF   08
02A5:  MOVLW  01
02A6:  BCF    03.5
02A7:  MOVWF  08
....................          output_high(PIN_A4); 
02A8:  BSF    03.5
02A9:  BCF    05.4
02AA:  BCF    03.5
02AB:  BSF    05.4
....................          delay_ms(delay); 
02AC:  MOVF   26,W
02AD:  MOVWF  27
02AE:  CALL   1FE
....................          output_low(PIN_A4); 
02AF:  BSF    03.5
02B0:  BCF    05.4
02B1:  BCF    03.5
02B2:  BCF    05.4
....................       break; 
02B3:  GOTO   2B5
....................       default: return; 
02B4:  GOTO   2B5
....................    } 
.................... } 
02B5:  BCF    0A.3
02B6:  BCF    0A.4
02B7:  GOTO   358 (RETURN)
....................  
....................  
....................  
.................... void main() 
.................... { 
02B8:  CLRF   04
02B9:  BCF    03.7
02BA:  MOVLW  1F
02BB:  ANDWF  03,F
02BC:  BSF    03.5
02BD:  BSF    1F.0
02BE:  BSF    1F.1
02BF:  BSF    1F.2
02C0:  BCF    1F.3
02C1:  MOVLW  07
02C2:  MOVWF  1C
....................  
....................    setup_adc_ports(AN0_AN1_AN3); 
*
02C6:  BSF    03.5
02C7:  BCF    1F.0
02C8:  BCF    1F.1
02C9:  BSF    1F.2
02CA:  BCF    1F.3
....................    setup_adc(ADC_CLOCK_DIV_2); 
02CB:  BCF    1F.6
02CC:  BCF    03.5
02CD:  BCF    1F.6
02CE:  BCF    1F.7
02CF:  BSF    03.5
02D0:  BCF    1F.7
02D1:  BCF    03.5
02D2:  BSF    1F.0
....................    setup_psp(PSP_DISABLED); 
02D3:  BSF    03.5
02D4:  BCF    09.4
....................    setup_spi(SPI_SS_DISABLED); 
02D5:  BCF    03.5
02D6:  BCF    14.5
02D7:  BCF    20.5
02D8:  MOVF   20,W
02D9:  BSF    03.5
02DA:  MOVWF  07
02DB:  BCF    03.5
02DC:  BSF    20.4
02DD:  MOVF   20,W
02DE:  BSF    03.5
02DF:  MOVWF  07
02E0:  BCF    03.5
02E1:  BCF    20.3
02E2:  MOVF   20,W
02E3:  BSF    03.5
02E4:  MOVWF  07
02E5:  MOVLW  01
02E6:  BCF    03.5
02E7:  MOVWF  14
02E8:  MOVLW  00
02E9:  BSF    03.5
02EA:  MOVWF  14
....................    setup_timer_0(RTCC_INTERNAL|RTCC_DIV_1); 
02EB:  MOVF   01,W
02EC:  ANDLW  C7
02ED:  IORLW  08
02EE:  MOVWF  01
....................    setup_timer_1(T1_DISABLED); 
02EF:  BCF    03.5
02F0:  CLRF   10
....................    setup_timer_2(T2_DISABLED,0,1); 
02F1:  MOVLW  00
02F2:  MOVWF  78
02F3:  MOVWF  12
02F4:  MOVLW  00
02F5:  BSF    03.5
02F6:  MOVWF  12
....................    setup_comparator(NC_NC_NC_NC); 
02F7:  MOVLW  07
02F8:  MOVWF  1C
02F9:  MOVF   05,W
02FA:  MOVWF  05
02FB:  MOVLW  10
02FC:  MOVWF  77
02FD:  DECFSZ 77,F
02FE:  GOTO   2FD
02FF:  NOP
0300:  MOVF   1C,W
0301:  BCF    03.5
0302:  BCF    0D.6
....................    setup_vref(FALSE); 
0303:  BSF    03.5
0304:  CLRF   1D
....................  
....................    // TODO: USER CODE!! 
....................    output_d(0b01001111); 
0305:  CLRF   08
0306:  MOVLW  4F
0307:  BCF    03.5
0308:  MOVWF  08
....................    output_low(PIN_A4); 
0309:  BSF    03.5
030A:  BCF    05.4
030B:  BCF    03.5
030C:  BCF    05.4
....................    output_low(PIN_A5); 
030D:  BSF    03.5
030E:  BCF    05.5
030F:  BCF    03.5
0310:  BCF    05.5
....................     
....................     
....................     
....................    unsigned int8 cont = 0, entrada = 0, max = 0, min = 1000; 
0311:  CLRF   21
0312:  CLRF   22
0313:  CLRF   23
0314:  MOVLW  E8
0315:  MOVWF  24
....................     
....................    while(true){ 
....................       entrada = read_adc(); 
0316:  BSF    1F.2
0317:  BTFSC  1F.2
0318:  GOTO   317
0319:  MOVF   1E,W
031A:  MOVWF  22
....................       entrada = (int8)(-0.44117647*entrada+125); 
031B:  CLRF   26
031C:  MOVF   22,W
031D:  MOVWF  25
031E:  GOTO   004
031F:  MOVLW  E2
0320:  MOVWF  28
0321:  MOVLW  E1
0322:  MOVWF  27
0323:  MOVWF  26
0324:  MOVLW  7D
0325:  MOVWF  25
0326:  MOVF   7A,W
0327:  MOVWF  2C
0328:  MOVF   79,W
0329:  MOVWF  2B
032A:  MOVF   78,W
032B:  MOVWF  2A
032C:  MOVF   77,W
032D:  MOVWF  29
032E:  GOTO   023
032F:  MOVF   77,W
0330:  MOVWF  25
0331:  MOVF   78,W
0332:  MOVWF  26
0333:  MOVF   79,W
0334:  MOVWF  27
0335:  MOVF   7A,W
0336:  MOVWF  28
0337:  BCF    03.1
0338:  MOVF   7A,W
0339:  MOVWF  2C
033A:  MOVF   79,W
033B:  MOVWF  2B
033C:  MOVF   78,W
033D:  MOVWF  2A
033E:  MOVF   77,W
033F:  MOVWF  29
0340:  CLRF   30
0341:  CLRF   2F
0342:  MOVLW  7A
0343:  MOVWF  2E
0344:  MOVLW  85
0345:  MOVWF  2D
0346:  GOTO   09A
0347:  MOVF   7A,W
0348:  MOVWF  28
0349:  MOVF   79,W
034A:  MOVWF  27
034B:  MOVF   78,W
034C:  MOVWF  26
034D:  MOVF   77,W
034E:  MOVWF  25
034F:  GOTO   1DD
0350:  MOVF   78,W
0351:  MOVWF  22
....................       cont++; 
0352:  INCF   21,F
....................       setPosi(cont,entrada); // 125 = 1Hz ; 12,5 = 10Hz 
0353:  MOVF   21,W
0354:  MOVWF  25
0355:  MOVF   22,W
0356:  MOVWF  26
0357:  GOTO   212
....................       if(cont == 8) cont = 0; 
0358:  MOVF   21,W
0359:  SUBLW  08
035A:  BTFSC  03.2
035B:  CLRF   21
....................    } 
035C:  GOTO   316
....................  
.................... } 
....................  
.................... /* 
.................... #include <16F877A.h> 
.................... #device adc=8 
....................  
.................... #FUSES NOWDT 
.................... #FUSES HS 
.................... #FUSES NOPUT 
.................... #FUSES NOPROTECT 
.................... #FUSES NODEBUG 
.................... #FUSES BROWNOUT 
.................... #FUSES NOLVP 
.................... #FUSES NOCPD 
.................... #FUSES NOWRT 
....................  
.................... #use delay(clock=20000000) 
....................  
.................... */ 
035D:  SLEEP

Configuration Fuses:
   Word  1: 3F3A   HS NOWDT NOPUT NODEBUG NOPROTECT NOBROWNOUT NOLVP NOCPD NOWRT
